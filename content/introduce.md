
# 第一章：Hyperledger fabric总览

## 第一节.如何给Hyperledger fabric贡献源码

## 第二节.相关的术语表

术语（Terminology）非常重要，以便所有Hyperledger Fabric用户和开发人员就每个特定术语的含义达成一致。 例如，链码是什么。 文档将根据需要引用术语表，

#### 锚点：
   所有其他节点都可以发现和通信的通道上的对等节点。 通道上的每个成员都有一个锚点（或多个锚点对等体以防止单点故障），允许属于不同成员的对等方发现信道上的所有现有对等点。

#### 块：
  一组有序的交易，与通道上的上一个块加密链接。

#### 链：
  账本链是一个交易日志，结构为hash散列链接交易块。 节点从订购服务接收交易块，根据批注策略和并发冲突将块的交易标记为有效或无效，并将该块附加到节点文件系统上的哈希链。
  
#### 链上代码：
  Chaincode是运行在账本上的软件，用于对资产和用于修改资产的交易指令（业务逻辑）进行编码。

#### 通道：
  通道是一个私人区块链覆盖，允许数据隔离和机密性。 通道专用账本在渠道中的节点之间共享，交易方必须对渠道进行适当的认证才能与其进行交互。 通道由配置块定义。

#### 承诺：
  通道上的每个节点验证有序的交易块，然后将块提交（写入/附加）到其通道账本的副本。 节点还会将每个块中的每笔交易标记为有效或无效。

#### 并发控制版本检查：
  并发控制版本检查是一种通过通道上的节点保持状态同步的方法。 节点并行地执行事务，并且在承诺账本之前，节点检查在执行时读取的数据没有改变。 如果为事务读取的数据在执行时间和承诺时间之间发生了变化，则会发生并发控制版本检查违例，并且交易在账本上被标记为无效，并且在状态数据库中值不会更新。

#### 配置块：
  包含定义系统链（订购服务）或渠道的成员和策略的配置数据。 对通道或整个网络（例如成员离开或加入）的任何配置修改都会导致新的配置块被附加到适当的链上。 该块将包含生成块的内容，加上delta。
   
#### 共识：
  一个更广泛的术语，涵盖整个交易流程，用于生成订单协议并确认构成一个区块的一组交易的正确性。
  
#### 当前状态：
  账本的当前状态表示链式交易日志中包含的所有密钥的最新值。 对于承诺处理块中包含的每个有效事务，节点将最新值提交到总账当前状态。 由于当前状态代表了该频道已知的所有最新键值，因此有时将其称为世界状态。 Chaincode针对当前状态数据执行交易提议。

#### 动态会员：
  Hyperledger Fabric支持添加/删除成员，节点和订购服务节点，而不会影响整个网络的可操作性。当业务关系调整并且因各种原因需要添加/删除实体时，动态成员身份至关重要。
  
#### 背书：
  指特定节点执行链代码事务并将提议响应返回给客户端应用程序的过程。 提案响应包括链码执行响应消息，结果（读集和写集）和事件，以及用作对等链代码执行证明的签名。 Chaincode应用程序有相应的认可政策，其中指定了认可的同行。

#### 背书策略：
  定义必须执行附加到特定链式代码应用程序的交易的通道上的节点，以及所需的响应组合（认可）。 一项政策可能要求交易得到最少数量的认可对等方，认可对等方的最低比例或分配给特定链式代码应用程序的所有认可对等方的认可。 政策可以根据应用程序以及所需水平的抵制能力来反对不当行为（有意或无意）。 提交的交易必须在通过提交同行标记为有效之前满足认可政策。 还需要安装和实例化交易的明确认可政策。

#### Hyperledger Fabric CA：
  Hyperledger Fabric CA是默认的证书颁发机构组件，它向网络成员组织及其用户颁发基于PKI的证书。 CA向每个成员颁发一个根证书（rootCert），向每个授权用户颁发一个注册证书（ECert）。
  
#### 创世块：
  初始化区块链网络或通道的配置块，也用作链中的第一个块。

#### Gossip协议：
  Gossip数据传播协议执行三项功能：1）管理对等点发现和通道成员资格; 2）在通道上的所有节点上传播账本数据; 3）在通道上的所有对等点之间同步账本状态。 
  
#### 初始化：
  一种初始化链式代码应用程序的方法。
  
#### 安装：
  在同行的文件系统上放置链码的过程。

#### 实例：
  在特定channel上启动和初始化链式代码应用程序的过程。 实例化之后，安装链码的peer可以接受链式代码调用。
  
#### 调用：
  用于调用链接代码功能。 客户端应用程序通过向peer发送事务提议来调用链接代码。 peer将执行链代码并将认可的提议响应返回给客户机应用程序。 客户端应用程序将收集足够多的提案响应以满足认可策略，然后将提交交易结果以进行排序，验证和提交。 客户端应用程序可能会选择不提交交易结果。 例如，如果调用仅查询分类帐，那么客户端应用程序通常不会提交只读事务，除非为了审计目的而希望在分类账上登录读取。 调用包括一个通道标识符，要调用的chaincode函数和一个参数数组。

#### 领导节点：
  每个成员可以在其订阅的每个频道上拥有多个对等点。 其中一个同伴是该频道的主要同行，以代表该成员与网络订购服务进行通信。 订购服务将信息块“传递”给一个或多个通道上的主要对等体，然后将这些块分发给同一成员群集中的其他对等体。

#### 账本：
  账本是由渠道上的每个peer维护的渠道链和当前状态数据。

#### 成员：
  一个合法的独立实体，拥有网络唯一的根证书。 网络组件（如peer和应用程序客户端）将链接到成员。

#### 会员服务提供者：
  会员服务提供商（MSP）是指向客户端提供凭证的系统的抽象组件，以及用于他们参与Hyperledger Fabric网络的peer。 客户端使用这些凭证来验证他们的交易，同行使用这些凭证来验证交易处理结果（认可）。 在与系统的事务处理组件紧密连接的同时，该接口的目标是定义成员服务组件，以便在不修改系统的事务处理组件核心的情况下顺利插入其替代实现。

#### 会员服务：
  Membership Services在经过许可的区块链网络上对身份进行身份验证，授权和管理。 在同行和订购者中运行的成员服务代码都会验证和授权区块链操作。 它是会员服务提供商（MSP）抽象的基于PKI的实施。

#### 订购服务：
  一组定义的节点集合，它将事务定购到一个块中。 订购服务独立于对等流程而存在，并以先到先得的原则为网络上的所有渠道订购交易。 订购服务旨在支持超出现成的SOLO和Kafka品种的可插拔实施。 订购服务是整个网络的通用绑定; 它包含与每个成员相关的加密身份资料。

#### 节点：
  一个网络实体，用于维护账本并运行链代码容器，以执行对账本的读/写操作。 同辈拥有并由成员维护。

#### 策略：
  有认可，验证，链码管理和网络/渠道管理的政策。

#### 提案：
  针对渠道中特定同行的认可请求。 每个提议都是实例化或调用（读/写）请求。

#### 查询：
  查询是一个链式代码调用，它读取账本当前状态但不写入账本。 链代码功能可以查询账本的某些键，或者可以查询账本上的一组键。 由于查询不会改变账本状态，因此客户端应用程序通常不会提交这些只读事务以进行排序，验证和提交。 虽然不是典型的，但客户端应用程序可以选择提交用于订购，验证和提交的只读事务，例如，如果客户希望在账簿链上进行可审计的证据，证明其在特定时间点具有特定分类账状态。

#### SDK：
  Hyperledger Fabric客户端SDK为开发人员编写和测试链式代码应用程序提供了库的结构化环境。 SDK通过标准接口完全可配置和可扩展。 包括签名，日志框架和状态存储的加密算法在内的组件可以很容易地换入和退出SDK。 SDK为事务处理，成员服务，节点遍历和事件处理提供API。 SDK有多种版本：Node.js，Java。 和Python。

#### 状态数据：
  当前状态数据存储在状态数据库中，以便有效地从链码读取和查询。 支持的数据库包括levelDB和couchDB。

#### 系统链：
  包含在系统级定义网络的配置块。 系统链存在于订购服务中，与通道类似，具有包含以下信息的初始配置：MSP信息，策略和配置详细信息。 对整个网络的任何改变（例如新添加的组织链接或新的排序节点）都会导致新的配置块被添加到系统链中。

  系统链可以被认为是一个channel或一组channel的通用绑定。 例如，一组金融机构可能组成一个联合体（通过系统链代表），然后开始创建相对于各自不同的业务议程的渠道。

#### 交易：
  调用或实例化为订购，验证和提交提交的结果。 调用是从账本中读取/写入数据的请求。 实例化是一个请求，用于启动和初始化通道上的链式代码。 应用程序客户端收集来自对等点的调用或实例化响应，并将结果和背书打包到提交用于排序，验证和提交的事务中。


## 第三节.Hyperledger fabric的版本发布说明

### 一.V-1.1.0版本

v1.1版本包含v1.1.0-preview和v1.1.0-alpha中提供的所有功能。

此外，还有功能改进，错误修复，文档和测试覆盖率改进，基于用户反馈的用户体验改进以及解决各种静态扫描发现（未使用的代码，静态安全扫描，拼写，线索等）的更改。

已更新至Go1.9.2版。 更新的baseimage版本为0.4.6。

#### 已知的漏洞

没有

#### 解决了漏洞

https://jira.hyperledger.org/browse/FAB-4824 https://jira.hyperledger.org/browse/FAB-5406

#### 已知问题和解决方法

用于构建chaincode的fabric-ccenv图像目前包含github.com/hyperledger/fabric/core/chaincode/shim（“shim”）包。 这很方便，因为它提供了链接代码打包的功能，而无需包含“垫片”。 但是，这可能会在将来的版本中引起问题（和/或尝试使用“垫片”包含的软件包时）。

为了避免任何问题，建议用户在使用对等CLI进行打包和/或安装chaincode之前手动供应带有链码的“shim”包。

有关更多详细信息，请参阅FAB-5177，并且请注意，鉴于上述情况，我们最终可能会在未来更改面料ccenv。

## 第四节.状态

Hyperledger Fabric处于活动状态。 有关该项目历史的更多信息，请参阅我们的Wiki页面。 “Hyperledger项目生命周期”文档中提供了关于活动需求的信息。

